{% extends 'layout.html' %}
{% load static %}


{% block content %}
  

<div class = "container">
  <section>
    {% if not products%}
    <h1 class="text-white ">.</h1>
    <h1 class="text-white ">.</h1>
    <h1 class="text-white ">.</h1>


    <div class="jumbotron my-4">
        <h1 class="display-4">ไม่มีรายการที่ค้นหา!</h1>
          <a class="w3-bar-item w3-button w3-yellow w3-hover-deep-orange w3-hover-shadow w3-hover-text-white" href="/index" role="button">หน้าแรก</a>
        </p>
    </div>
    <h2 class="text-white ">.</h2>
    <h2 class="text-white ">.</h2>
    <h2 class="text-white ">.</h2>
    <h2 class="text-white ">.</h2>
    {%else%}
               <!-- !PAGE CONTENT! -->
    <div class="w3-main w3-content w3-padding" style="max-width:1200px;margin-top:100px">
    
      <!-- First Photo Grid-->
      <div class="row my-3">

        {% for product in products %}
        <div class="w3-center col-lg-4 col-md-4 mb-4" id="food">
          
          <div class="w3-section">
            <a><img src="{{product.image.url}}" alt=""></a>
            <a >{{product.name}}</a>
            <p>{{product.price}}฿</p>
  
            {% if product.stock <= 0 %}
            <p href="#" class="w3-text-red w3-bar-item w3-button w3-hover-red w3-animate-zoom">รายการหมด</p>
            {% else %}
            <a href="{%url 'addCart' product.id %}" class="w3-bar-item w3-button w3-hover-yellow w3-animate-zoom">เพิ่มลงตระกร้า</a>
            {% endif %}
  
          </div>
          
      </div>

  
        {% endfor %}

      </div>
     
    </div>
    
      <!-- Pagination -->
      <div class="w3-center w3-padding-32">
        {% if products.paginator.num_pages > 1 %}
        <div class="w3-bar">
          {% for page_number in products.paginator.page_range %}
          
          <a href="?page={{ page_number }}" class="w3-bar-item w3-black w3-button ">{{ page_number }}</a>
          {% endfor %}

        </div>
        {% endif %}
      </div>
      <h1 class="text-white ">.</h1>
    {%endif%}
  </section>
  </div>     

{% endblock %}  
